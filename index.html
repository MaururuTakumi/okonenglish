<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>おこん接客英語マニュアル</title>
    <meta name="theme-color" content="#007bff">
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="./icon-192x192.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
            padding: 20px 0;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="0.5" fill="%23ffffff" opacity="0.1"/><circle cx="80" cy="40" r="0.3" fill="%23ffffff" opacity="0.08"/><circle cx="40" cy="80" r="0.4" fill="%23ffffff" opacity="0.06"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>') repeat;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 768px;
            margin: 0 auto;
            padding: 0 16px;
        }

        .header-container {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 24px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .main-title {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .title-text {
            font-size: 36px;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 50%, #bbdefb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 4px 20px rgba(255,255,255,0.5);
            letter-spacing: 2px;
            animation: titlePulse 3s ease-in-out infinite;
        }

        .title-subtitle {
            font-size: 18px;
            font-weight: 600;
            color: rgba(255,255,255,0.9);
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            letter-spacing: 1px;
        }

        .title-icons {
            display: flex;
            gap: 12px;
            margin-top: 8px;
        }

        .icon-rice, .icon-sake {
            font-size: 24px;
            animation: iconFloat 2s ease-in-out infinite alternate;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }

        .icon-sake {
            animation-delay: 0.5s;
        }

        .subtitle {
            margin: 15px 0 0 0;
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            text-shadow: 0 2px 8px rgba(0,0,0,0.3);
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        @keyframes titlePulse {
            0%, 100% {
                transform: scale(1);
                text-shadow: 0 4px 20px rgba(255,255,255,0.5);
            }
            50% {
                transform: scale(1.02);
                text-shadow: 0 6px 30px rgba(255,255,255,0.7), 0 0 40px rgba(255,255,255,0.3);
            }
        }

        @keyframes iconFloat {
            from {
                transform: translateY(0px) rotate(0deg);
            }
            to {
                transform: translateY(-6px) rotate(5deg);
            }
        }

        .accordion {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            margin-bottom: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1), 0 2px 8px rgba(0,0,0,0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
        }

        .accordion:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15), 0 4px 12px rgba(0,0,0,0.1);
        }

        .accordion-header {
            padding: 24px;
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.9) 100%);
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .accordion-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s ease;
        }

        .accordion-header:hover::before {
            left: 100%;
        }

        .accordion-header:hover {
            background: linear-gradient(135deg, rgba(0,123,255,0.1) 0%, rgba(108,117,125,0.05) 100%);
        }

        .accordion-header h2 {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }

        .accordion-arrow {
            transition: transform 0.3s ease;
            font-size: 20px;
            color: #6c757d;
        }

        .accordion.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .accordion.active .accordion-content {
            max-height: 2000px;
        }

        .phrase-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.8) 100%);
            border-radius: 12px;
            padding: 24px;
            margin: 20px;
            border: 1px solid rgba(233,236,239,0.6);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            position: relative;
        }

        .phrase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #007bff, #6610f2, #6f42c1);
            border-radius: 12px 12px 0 0;
        }

        .phrase-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .phrase-section {
            margin-bottom: 16px;
        }

        .phrase-section h3 {
            font-size: 16px;
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .phrase-text {
            font-size: 15px;
            line-height: 1.8;
            color: #212529;
            background: rgba(255,255,255,0.8);
            padding: 16px;
            border-radius: 12px;
            border: 1px solid rgba(222,226,230,0.6);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            position: relative;
        }

        .phrase-text:hover {
            background: rgba(255,255,255,0.95);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .play-button {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
            position: relative;
            overflow: hidden;
        }

        .play-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            transition: all 0.6s ease;
            transform: translate(-50%, -50%);
        }

        .play-button:hover::before {
            width: 300px;
            height: 300px;
        }

        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,123,255,0.4);
        }

        .play-button:active {
            transform: translateY(0) scale(0.98);
        }

        .response-list {
            list-style: none;
            padding-left: 0;
        }

        .response-list li {
            background: linear-gradient(135deg, rgba(231,243,255,0.9) 0%, rgba(179,229,252,0.7) 100%);
            padding: 12px 16px;
            margin-bottom: 10px;
            border-radius: 12px;
            font-size: 14px;
            color: #004085;
            border-left: 4px solid #007bff;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .response-list li:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.2);
            background: linear-gradient(135deg, rgba(231,243,255,1) 0%, rgba(179,229,252,0.9) 100%);
        }

        .response-list li::before {
            content: '•';
            position: absolute;
            left: -8px;
            top: 50%;
            transform: translateY(-50%);
            color: #007bff;
            font-size: 16px;
            font-weight: bold;
        }

        /* 検索機能 */
        .search-container {
            margin-bottom: 20px;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid rgba(233,236,239,0.6);
            border-radius: 25px;
            font-size: 16px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .search-box:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 4px 20px rgba(0,123,255,0.2), 0 0 0 3px rgba(0,123,255,0.1);
            transform: translateY(-1px);
        }

        .search-box::placeholder {
            color: #6c757d;
            opacity: 0.8;
        }

        .search-results {
            margin-bottom: 20px;
            font-size: 14px;
            color: #6c757d;
        }

        /* お気に入り機能 */
        .favorite-btn {
            background: none;
            border: none;
            color: #ffc107;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-left: 12px;
            padding: 4px;
            border-radius: 50%;
            position: relative;
        }

        .favorite-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255,193,7,0.3) 0%, transparent 70%);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .favorite-btn:hover {
            color: #ffb600;
            transform: scale(1.2) rotate(15deg);
        }

        .favorite-btn:hover::before {
            width: 40px;
            height: 40px;
        }

        .favorite-btn.active {
            color: #ff6b00;
            animation: favoritePulse 0.6s ease;
        }

        @keyframes favoritePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3) rotate(10deg); }
            100% { transform: scale(1); }
        }

        .favorites-section {
            background: linear-gradient(135deg, rgba(255,243,205,0.9) 0%, rgba(255,234,167,0.8) 100%);
            border: 1px solid rgba(255,234,167,0.6);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 25px rgba(255,193,7,0.2);
        }

        .favorites-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .favorites-header h2 {
            color: #856404;
            font-size: 18px;
            margin: 0;
        }

        .clear-favorites {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(220,53,69,0.3);
        }

        .clear-favorites:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(220,53,69,0.4);
        }

        .favorites-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .favorite-item {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.8) 100%);
            border: 1px solid rgba(221,221,221,0.6);
            border-radius: 12px;
            padding: 12px 16px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .favorite-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,193,7,0.2), transparent);
            transition: left 0.6s ease;
        }

        .favorite-item:hover::before {
            left: 100%;
        }

        .favorite-item:hover {
            background: linear-gradient(135deg, rgba(255,248,225,0.9) 0%, rgba(255,243,205,0.8) 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,193,7,0.2);
        }

        /* カタカナ読み */
        .katakana-guide {
            font-size: 13px;
            color: #155724;
            background: linear-gradient(135deg, rgba(212,237,218,0.9) 0%, rgba(195,230,203,0.8) 100%);
            padding: 10px 14px;
            border-radius: 12px;
            margin-top: 8px;
            font-weight: 500;
            border: 1px solid rgba(195,230,203,0.6);
            backdrop-filter: blur(5px);
            box-shadow: 0 2px 8px rgba(40,167,69,0.1);
        }

        /* 履歴機能 */
        .history-section {
            background: linear-gradient(135deg, rgba(226,227,229,0.9) 0%, rgba(198,200,202,0.8) 100%);
            border: 1px solid rgba(198,200,202,0.6);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 25px rgba(108,117,125,0.2);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .history-header h2 {
            color: #495057;
            font-size: 18px;
            margin: 0;
        }

        .clear-history {
            background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(108,117,125,0.3);
        }

        .clear-history:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(108,117,125,0.4);
        }

        .history-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .history-item {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,249,250,0.8) 100%);
            border: 1px solid rgba(222,226,230,0.6);
            border-radius: 12px;
            padding: 14px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .history-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(108,117,125,0.1), transparent);
            transition: left 0.6s ease;
        }

        .history-item:hover::before {
            left: 100%;
        }

        .history-item:hover {
            background: linear-gradient(135deg, rgba(241,243,245,0.9) 0%, rgba(233,236,239,0.8) 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108,117,125,0.15);
        }

        .history-time {
            font-size: 12px;
            color: #6c757d;
            float: right;
        }

        /* 隠し機能 */
        .hidden {
            display: none !important;
        }

        /* ローディングアニメーション */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading.hide {
            opacity: 0;
            visibility: hidden;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: white;
            font-size: 18px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            animation: loadingPulse 2s ease-in-out infinite;
        }

        @keyframes loadingPulse {
            0%, 100% {
                opacity: 0.8;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
        }

        /* フェードインアニメーション */
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* アコーディオンアニメーション強化 */
        .accordion {
            animation: accordionSlideIn 0.4s ease-out;
        }

        @keyframes accordionSlideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* パフォーマンス最適化 */
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* スクロールバーカスタマイズ */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, rgba(255,255,255,0.3), rgba(255,255,255,0.5));
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, rgba(255,255,255,0.5), rgba(255,255,255,0.7));
        }

        /* メニューバー */
        .menu-bar {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(233,236,239,0.6);
            padding: 15px 0;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-radius: 16px;
            position: relative;
        }

        .menu-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #007bff, #6610f2, #6f42c1, #007bff);
            background-size: 200% 100%;
            animation: gradientMove 3s ease-in-out infinite;
        }

        @keyframes gradientMove {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .menu-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .menu-btn {
            background: rgba(248,249,250,0.8);
            border: 1px solid rgba(222,226,230,0.6);
            padding: 12px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .menu-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: linear-gradient(135deg, #007bff, #6610f2);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .menu-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .menu-btn:hover::before {
            width: 200px;
            height: 200px;
        }

        .menu-btn:hover {
            color: white;
        }

        .menu-btn.active {
            background: linear-gradient(135deg, #007bff 0%, #6610f2 100%);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 15px rgba(0,123,255,0.3);
        }

        .menu-btn.active::before {
            width: 200px;
            height: 200px;
        }

        @media (max-width: 480px) {
            .header-container {
                margin-bottom: 30px;
                padding: 16px;
            }
            
            .title-text {
                font-size: 28px;
            }
            
            .title-subtitle {
                font-size: 16px;
            }
            
            .subtitle {
                font-size: 13px;
            }
            
            .accordion-header h2 {
                font-size: 16px;
            }
            
            .phrase-card {
                margin: 12px;
                padding: 16px;
            }

            .menu-buttons {
                flex-direction: column;
            }

            .menu-btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- ローディング画面 -->
    <div class="loading" id="loadingScreen">
        <div class="loading-spinner"></div>
        <div class="loading-text">おこん英語マニュアルを読み込み中...</div>
    </div>

    <div class="container" id="mainContent">
        <div class="header-container">
            <h1 class="main-title">
                <span class="title-text">おこん</span>
                <span class="title-subtitle">接客英語マニュアル</span>
                <div class="title-icons">
                    <span class="icon-rice">🍚</span>
                    <span class="icon-sake">🍶</span>
                </div>
            </h1>
            <p class="subtitle">レストランスタッフのための英語接客支援アプリ</p>
        </div>
        
        <!-- 検索機能 -->
        <div class="search-container">
            <input type="text" class="search-box" placeholder="フレーズを検索... (例: 予約, 支払い, アレルギー)" id="searchInput">
        </div>
        
        <div class="search-results" id="searchResults"></div>
        
        <!-- メニューバー -->
        <div class="menu-bar">
            <div class="menu-buttons">
                <button class="menu-btn active" onclick="showSection('all')">全て</button>
                <button class="menu-btn" onclick="showSection('favorites')">お気に入り</button>
                <button class="menu-btn" onclick="showSection('history')">履歴</button>
                <button class="menu-btn" onclick="showSection('emergency')">緊急</button>
                <button class="menu-btn" onclick="showSection('numbers')">数字</button>
                <button class="menu-btn" onclick="showSection('allergies')">アレルギー</button>
            </div>
        </div>
        
        <!-- お気に入りセクション -->
        <div class="favorites-section" id="favoritesSection" style="display: none;">
            <div class="favorites-header">
                <h2>⭐ お気に入りフレーズ</h2>
                <button class="clear-favorites" onclick="clearFavorites()">クリア</button>
            </div>
            <div class="favorites-list" id="favoritesList">
                <!-- お気に入りフレーズがここに表示される -->
            </div>
        </div>
        
        <!-- 履歴セクション -->
        <div class="history-section" id="historySection" style="display: none;">
            <div class="history-header">
                <h2>📝 使用履歴</h2>
                <button class="clear-history" onclick="clearHistory()">クリア</button>
            </div>
            <div class="history-list" id="historyList">
                <!-- 使用履歴がここに表示される -->
            </div>
        </div>
        
        <div id="accordion-container">
            <!-- 🚨 緊急・トラブル対応 -->
            <div class="accordion emergency-section" data-category="emergency">
                <div class="accordion-header">
                    <h2>🚨 緊急・トラブル対応</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('emergency-1', 'すみません、理解できませんでした')">☆</button></h3>
                            <div class="phrase-text">すみません、理解できませんでした。もう一度おっしゃっていただけますか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">I'm sorry, I didn't understand. Could you please repeat that?</div>
                            <div class="katakana-guide">アイム ソーリー、アイ ディドゥント アンダースタンド。クッド ユー プリーズ リピート ザット？</div>
                            <button class="play-button" onclick="speakAndRecord('I\'m sorry, I didn\'t understand. Could you please repeat that?', 'すみません、理解できませんでした')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Let me speak more slowly</li>
                                <li>I said...</li>
                                <li>Can you speak Japanese?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('emergency-2', '少々お待ちください')">☆</button></h3>
                            <div class="phrase-text">少々お待ちください。英語を話せるスタッフを呼んでまいります。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Please wait a moment. I'll get someone who speaks English.</div>
                            <div class="katakana-guide">プリーズ ウェイト ア モーメント。アイル ゲット サムワン フー スピークス イングリッシュ。</div>
                            <button class="play-button" onclick="speakAndRecord('Please wait a moment. I\'ll get someone who speaks English.', '少々お待ちください')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you</li>
                                <li>That would be helpful</li>
                                <li>No problem</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('emergency-3', '申し訳ございません')">☆</button></h3>
                            <div class="phrase-text">申し訳ございません。ご迷惑をおかけして大変失礼いたしました。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">I sincerely apologize. I'm very sorry for the inconvenience.</div>
                            <div class="katakana-guide">アイ シンシアリー アポロジャイズ。アイム ベリー ソーリー フォー ジ インコンビーニエンス。</div>
                            <button class="play-button" onclick="speakAndRecord('I sincerely apologize. I\'m very sorry for the inconvenience.', '申し訳ございません')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>It's okay</li>
                                <li>No problem</li>
                                <li>Don't worry about it</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🔢 数字・時間・金額 -->
            <div class="accordion numbers-section" data-category="numbers">
                <div class="accordion-header">
                    <h2>🔢 数字・時間・金額</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('numbers-1', '何名様でしょうか')">☆</button></h3>
                            <div class="phrase-text">何名様でしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">How many people in your party?</div>
                            <div class="katakana-guide">ハウ メニー ピープル イン ユア パーティー？</div>
                            <button class="play-button" onclick="speakAndRecord('How many people in your party?', '何名様でしょうか')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Two people / Four people</li>
                                <li>Just me / Party of three</li>
                                <li>We're still waiting for one more</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('numbers-2', '何時のご予約でしょうか')">☆</button></h3>
                            <div class="phrase-text">何時のご予約でしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">What time is your reservation?</div>
                            <div class="katakana-guide">ワット タイム イズ ユア レザベーション？</div>
                            <button class="play-button" onclick="speakAndRecord('What time is your reservation?', '何時のご予約でしょうか')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Seven o'clock / 7:30</li>
                                <li>Eight fifteen</li>
                                <li>I think it was 6:30</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('numbers-3', '合計金額は')">☆</button></h3>
                            <div class="phrase-text">合計金額は[金額]円でございます。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Your total comes to [Amount] yen.</div>
                            <div class="katakana-guide">ユア トータル カムズ トゥ [アマウント] エン。</div>
                            <button class="play-button" onclick="speakAndRecord('Your total comes to Amount yen.', '合計金額は')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Okay, I'll pay by card</li>
                                <li>Can I pay cash?</li>
                                <li>Is service charge included?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🥜 アレルギー・食事制限 -->
            <div class="accordion allergies-section" data-category="allergies">
                <div class="accordion-header">
                    <h2>🥜 アレルギー・食事制限</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('allergy-1', '食物アレルギーはございますか')">☆</button></h3>
                            <div class="phrase-text">食物アレルギーはございますか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Do you have any food allergies?</div>
                            <div class="katakana-guide">ドゥー ユー ハブ エニー フード アラジーズ？</div>
                            <button class="play-button" onclick="speakAndRecord('Do you have any food allergies?', '食物アレルギーはございますか')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I'm allergic to shellfish</li>
                                <li>No allergies</li>
                                <li>I can't eat nuts</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('allergy-2', 'お料理にはこちらの食材が含まれています')">☆</button></h3>
                            <div class="phrase-text">こちらのお料理には[アレルゲン]が含まれています。大丈夫でしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">This dish contains [Allergen]. Is that okay for you?</div>
                            <div class="katakana-guide">ディス ディッシュ コンテインズ [アラージェン]。イズ ザット オーケー フォー ユー？</div>
                            <button class="play-button" onclick="speakAndRecord('This dish contains Allergen. Is that okay for you?', 'お料理にはこちらの食材が含まれています')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>No, I can't eat that</li>
                                <li>That's fine</li>
                                <li>Can you make it without that?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('allergy-3', '別のお料理をご提案いたします')">☆</button></h3>
                            <div class="phrase-text">別のお料理をご提案いたします。少々お待ちください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Let me suggest an alternative dish. Please wait a moment.</div>
                            <div class="katakana-guide">レット ミー サジェスト アン オルタナティブ ディッシュ。プリーズ ウェイト ア モーメント。</div>
                            <button class="play-button" onclick="speakAndRecord('Let me suggest an alternative dish. Please wait a moment.', '別のお料理をご提案いたします')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you so much</li>
                                <li>That would be great</li>
                                <li>I appreciate it</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('allergy-4', 'ベジタリアン対応')">☆</button></h3>
                            <div class="phrase-text">ベジタリアン対応のお料理もご用意できます。ご希望でしたらお申し付けください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">We can prepare vegetarian dishes. Please let us know if you're interested.</div>
                            <div class="katakana-guide">ウィー キャン プリペア ベジタリアン ディッシーズ。プリーズ レット アス ノウ イフ ユーアー インタレスティッド。</div>
                            <button class="play-button" onclick="speakAndRecord('We can prepare vegetarian dishes. Please let us know if you\'re interested.', 'ベジタリアン対応')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, I'm vegetarian</li>
                                <li>Do you have vegan options?</li>
                                <li>That's perfect, thank you</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ① ご来店時 -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>① ご来店時</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('arrival-1', 'いらっしゃいませ')">☆</button></h3>
                            <div class="phrase-text">いらっしゃいませ！お待ちしておりました。お名前をお伺いしてもよろしいでしょうか？ありがとうございます。それではご案内いたします。お席こちらでございます。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Welcome! We've been expecting you. May I have your name, please? Thank you. Please follow me to your table. Your seat is right this way.</div>
                            <div class="katakana-guide">ウェルカム！ウィーブ ビーン エクスペクティング ユー。メイ アイ ハブ ユア ネーム プリーズ？</div>
                            <button class="play-button" onclick="speakAndRecord('Welcome! We\'ve been expecting you. May I have your name, please? Thank you. Please follow me to your table. Your seat is right this way.', 'いらっしゃいませ')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I have a reservation under [Name]</li>
                                <li>Yes, it's [Name]</li>
                                <li>Thank you</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ② コート預かり -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>② コート預かり</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('coat-1', 'お召し物をお預かりいたします')">☆</button></h3>
                            <div class="phrase-text">よろしければお召し物をお預かりいたします。ただいまおしぼりをお持ちいたしますので、少々お待ちください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">May I take your coat? I'll bring you a hot towel in just a moment. Please wait a moment.</div>
                            <div class="katakana-guide">メイ アイ テイク ユア コート？アイル ブリング ユー ア ホット タオル イン ジャスト ア モーメント。</div>
                            <button class="play-button" onclick="speakAndRecord('May I take your coat? I\'ll bring you a hot towel in just a moment. Please wait a moment.', 'お召し物をお預かりいたします')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, please</li>
                                <li>No, thank you. I'll keep it</li>
                                <li>Thank you</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ③ おしぼり提供 -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>③ おしぼり提供</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語 <button class="favorite-btn" onclick="toggleFavorite('menu-1', 'ドリンクメニューの説明')">☆</button></h3>
                            <div class="phrase-text">こちらの黒い冊子はドリンクメニューでございます。ソフトドリンク、日本酒、焼酎、ワインは口頭でご案内いたしますので、ご希望がございましたらお気軽にお尋ねください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">This black booklet is our drink menu. I can also recommend soft drinks, sake, shochu, and wine verbally. Please feel free to ask if you'd like any recommendations.</div>
                            <div class="katakana-guide">ディス ブラック ブックレット イズ アワ ドリンク メニュー。アイ キャン オールソー レコメンド...</div>
                            <button class="play-button" onclick="speakAndRecord('This black booklet is our drink menu. I can also recommend soft drinks, sake, shochu, and wine verbally. Please feel free to ask if you\'d like any recommendations.', 'ドリンクメニューの説明')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>What sake do you recommend?</li>
                                <li>I'll look at the menu first</li>
                                <li>What soft drinks do you have?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ④ ウェルカムライス -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>④ ウェルカムライス</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">コースはウェルカムライスからご提供いたします。本日のお米は[お米の品種]を使用しております。まずはテイスティングとして一口サイズでお召し上がりください。最後にお出しする土鍋ごはんにも同じお米を使用しております。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Our course begins with welcome rice. Today we're using [Rice Brand]. Please enjoy this bite-sized portion as a tasting. We'll use the same rice for the clay pot rice at the end of your meal.</div>
                            <button class="play-button" onclick="speak('Our course begins with welcome rice. Today we\'re using Rice Brand. Please enjoy this bite-sized portion as a tasting. We\'ll use the same rice for the clay pot rice at the end of your meal.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>This rice is delicious!</li>
                                <li>What kind of rice is this?</li>
                                <li>Thank you</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">お飲み物お決まりでしたらお伺いいたします。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">May I take your drink order when you're ready?</div>
                            <button class="play-button" onclick="speak('May I take your drink order when you\'re ready?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I'll have sake, please</li>
                                <li>Just water for now</li>
                                <li>What do you recommend?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ⑤ 先付けとちらし寿司 -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>⑤ 先付けとちらし寿司</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">まずは先付けでございます。本日の先付けは[品数]品で構成されており、左手から[料理名]、[料理名]、[料理名]、[料理名]、そして一番上に[料理名]をご用意しております。続いて、ちらし寿司でございます。お味がついておりますので、そのままお召し上がりください。次のお料理までの間、どうぞごゆっくりお楽しみください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">First, here are your appetizers. Today's selection consists of [Number of Dishes] items. From the left, we have [Dish Name], [Dish Name], [Dish Name], [Dish Name], and on top, [Dish Name]. Next, this is chirashi sushi. It's already seasoned, so please enjoy it as is. Please take your time and enjoy before the next course.</div>
                            <button class="play-button" onclick="speak('First, here are your appetizers. Today\'s selection consists of Number of Dishes items. From the left, we have Dish Name, Dish Name, Dish Name, Dish Name, and on top, Dish Name. Next, this is chirashi sushi. It\'s already seasoned, so please enjoy it as is. Please take your time and enjoy before the next course.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Everything looks wonderful</li>
                                <li>What is this ingredient?</li>
                                <li>Thank you</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🍶 日本酒について -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🍶 日本酒について</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">お好みの味わいはございますでしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Do you have any preference for the taste profile?</div>
                            <button class="play-button" onclick="speak('Do you have any preference for the taste profile?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I prefer dry sake</li>
                                <li>Something sweet, please</li>
                                <li>What's the difference between them?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">辛口: 洗心はすっきりとした軽やかな味わい、萬寿（まんじゅ）はまろやかで飲みやすく、碧寿（へきじゅ）はコクがありしっかりとした味わいです。お好みに合わせてお選びください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">For dry sake: Senshin has a clean and light taste, Manju is smooth and easy to drink, and Hekiju has a rich, full-bodied flavor. Please choose according to your preference.</div>
                            <button class="play-button" onclick="speak('For dry sake: Senshin has a clean and light taste, Manju is smooth and easy to drink, and Hekiju has a rich, full-bodied flavor. Please choose according to your preference.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I'll try the Senshin</li>
                                <li>The Manju sounds good</li>
                                <li>Which one do you recommend?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">甘口: くどき上手はフルーティーで華やかな香りが特徴で、花鳥月夕は上品な甘さがありながら、すっきりとした後味が楽しめます。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">For sweet sake: Kudoki Jozu features a fruity and floral aroma, while Kacho Getsuseki offers elegant sweetness with a clean finish.</div>
                            <button class="play-button" onclick="speak('For sweet sake: Kudoki Jozu features a fruity and floral aroma, while Kacho Getsuseki offers elegant sweetness with a clean finish.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I'd like the fruity one</li>
                                <li>The Kacho Getsuseki, please</li>
                                <li>I'll have that one</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🥃 焼酎について -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🥃 焼酎について</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">芋焼酎は魔王、克、安田、麦焼酎は兼八、栃栗毛、青鹿毛、米焼酎は鳥飼、山ほたる、黒糖焼酎はまんこいをご用意しております。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">For sweet potato shochu, we have Mao, Katsu, and Yasuda. For barley shochu, we offer Kanehachi, Tochikurige, and Aoshikage. For rice shochu, we have Torikai and Yama Hotaru. For brown sugar shochu, we have Mankoi.</div>
                            <button class="play-button" onclick="speak('For sweet potato shochu, we have Mao, Katsu, and Yasuda. For barley shochu, we offer Kanehachi, Tochikurige, and Aoshikage. For rice shochu, we have Torikai and Yama Hotaru. For brown sugar shochu, we have Mankoi.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I'll have the sweet potato shochu</li>
                                <li>What's the difference between them?</li>
                                <li>The barley one, please</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🥤 ソフトドリンク -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🥤 ソフトドリンク</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">温かいお飲み物は温かいほうじ茶と期間限定でレモン紅茶がございます。冷たいお飲み物は、水出し緑茶とオーストラリア産のぶどうジュース（赤・白）などをご用意しております。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">For hot beverages, we have hot roasted tea and seasonal lemon tea. For cold beverages, we offer cold-brewed green tea and Australian grape juice in both red and white varieties.</div>
                            <button class="play-button" onclick="speak('For hot beverages, we have hot roasted tea and seasonal lemon tea. For cold beverages, we offer cold-brewed green tea and Australian grape juice in both red and white varieties.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>I'll have the hot roasted tea</li>
                                <li>Cold green tea, please</li>
                                <li>The white grape juice sounds nice</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🥩 牛カツ -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🥩 牛カツ</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">こちら牛カツのソースでございます。まもなくお持ちいたしますのでもう少々お待ちください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Here is the sauce for the beef cutlet. I'll bring the cutlet shortly, so please wait just a moment.</div>
                            <button class="play-button" onclick="speak('Here is the sauce for the beef cutlet. I\'ll bring the cutlet shortly, so please wait just a moment.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you</li>
                                <li>Looking forward to it</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">こちら牛カツでございます。お味ついておりますがお好みでソースをかけてお召し上がりください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Here is your beef cutlet. It's already seasoned, but please feel free to add sauce to your liking.</div>
                            <button class="play-button" onclick="speak('Here is your beef cutlet. It\'s already seasoned, but please feel free to add sauce to your liking.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>This looks delicious</li>
                                <li>Thank you</li>
                                <li>Should I use all the sauce?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🦪 うに3種 -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🦪 うに3種</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">こちら、お先にうに3種用の塩と醤油でございます。ただいまお持ちいたしますのでもう少々お待ちください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Here are salt and soy sauce for the sea urchin tasting. I'll bring the sea urchin shortly, so please wait just a moment.</div>
                            <button class="play-button" onclick="speak('Here are salt and soy sauce for the sea urchin tasting. I\'ll bring the sea urchin shortly, so please wait just a moment.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you</li>
                                <li>Which one should I use?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">本日のうにの食べ比べでございます。左手から[産地]産、[産地]産、[産地]産のうにをご用意しております。それぞれの風味の違いをお楽しみください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Here is today's sea urchin comparison. From the left, we have sea urchin from [Origin], [Origin], and [Origin]. Please enjoy the different flavors of each variety.</div>
                            <button class="play-button" onclick="speak('Here is today\'s sea urchin comparison. From the left, we have sea urchin from Origin, Origin, and Origin. Please enjoy the different flavors of each variety.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>They all look amazing</li>
                                <li>Which one is the sweetest?</li>
                                <li>Can you tell me more about the differences?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🍖 すき焼き -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🍖 すき焼き</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">すき焼きのご準備をさせて頂いてもよろしいでしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">May I begin preparing your sukiyaki?</div>
                            <button class="play-button" onclick="speak('May I begin preparing your sukiyaki?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, please</li>
                                <li>Go ahead</li>
                                <li>I'm ready</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">はじめにお肉のご説明をいたします。当店ではおひとり様3枚、サーロイン・肩ロース・もも肉の順にお焼きいたします。まずサーロインですが、脂の多い部位ですので、薬味とポン酢でさっぱりとお召し上がりいただきます。薬味はねぎと大根おろしですが、お苦手なものはございますか？ありがとうございます。当店お肉は少しレアめにお焼きしておりますが、問題ございませんでしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Let me explain the meat selection. We'll serve three pieces per person: sirloin, shoulder roast, and thigh meat, in that order. The sirloin is a fatty cut, so we serve it with condiments and ponzu sauce for a refreshing taste. The condiments are green onion and grated daikon radish. Do you have any allergies to these? Thank you. We cook our meat slightly rare. Is that alright with you?</div>
                            <button class="play-button" onclick="speak('Let me explain the meat selection. We\'ll serve three pieces per person: sirloin, shoulder roast, and thigh meat, in that order. The sirloin is a fatty cut, so we serve it with condiments and ponzu sauce for a refreshing taste. The condiments are green onion and grated daikon radish. Do you have any allergies to these? Thank you. We cook our meat slightly rare. Is that alright with you?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>That's perfect</li>
                                <li>No allergies, thank you</li>
                                <li>Could you cook it more well-done?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">お次は肩ロースを焼かせていただきます。肩ロースは砂糖醤油で味付けし、卵に絡めてお召し上がりいただきます。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Next, I'll cook the shoulder roast. We'll season it with sweet soy sauce and serve it with beaten egg.</div>
                            <button class="play-button" onclick="speak('Next, I\'ll cook the shoulder roast. We\'ll season it with sweet soy sauce and serve it with beaten egg.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Sounds delicious</li>
                                <li>Looking forward to it</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">最後にもも肉をお焼きするのですが、お野菜とおうどんと一緒にお召し上がりいただけます。おうどんは追加する形となりますがいかがなさいますか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Finally, I'll cook the thigh meat, which you can enjoy with vegetables and udon noodles. The udon is an additional option. Would you like to add it?</div>
                            <button class="play-button" onclick="speak('Finally, I\'ll cook the thigh meat, which you can enjoy with vegetables and udon noodles. The udon is an additional option. Would you like to add it?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, please add the udon</li>
                                <li>No udon for me, thank you</li>
                                <li>How much is the udon?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">もも肉は割下で味付けし、野菜と一緒にお召し上がりいただきます。本日のお野菜は九条ネギとごぼうのささがきです。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">The thigh meat is seasoned with warishita sauce and served with vegetables. Today's vegetables are Kujo green onions and julienned burdock root.</div>
                            <button class="play-button" onclick="speak('The thigh meat is seasoned with warishita sauce and served with vegetables. Today\'s vegetables are Kujo green onions and julienned burdock root.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you</li>
                                <li>Everything looks wonderful</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 🍮 デザート -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>🍮 デザート</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">最後のデザートでございます。羽二重餅の上にあんことぶどうを乗せております。手で包み、フルーツ大福のような形にしてお召し上がりください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Here is your final dessert. We have sweet bean paste and grapes on top of habutae mochi. Please wrap it with your hands to create something like a fruit daifuku and enjoy.</div>
                            <button class="play-button" onclick="speak('Here is your final dessert. We have sweet bean paste and grapes on top of habutae mochi. Please wrap it with your hands to create something like a fruit daifuku and enjoy.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>How creative!</li>
                                <li>This looks delicious</li>
                                <li>Thank you for the wonderful meal</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 💳 お会計 -->
            <div class="accordion">
                <div class="accordion-header">
                    <h2>💳 お会計</h2>
                    <span class="accordion-arrow">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">コース料理はこちらで以上でございます。もし追加のご注文がなければ、お会計を締めさせていただいてもよろしいでしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">This completes your course meal. If you don't have any additional orders, may I close your check?</div>
                            <button class="play-button" onclick="speak('This completes your course meal. If you don\'t have any additional orders, may I close your check?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, please</li>
                                <li>That's all, thank you</li>
                                <li>Actually, I'd like to order more drinks</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">ご予約の際にご登録いただいているクレジットカードでそのままお支払いしてもよろしいでしょうか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">May I process the payment with the credit card you registered when making your reservation?</div>
                            <button class="play-button" onclick="speak('May I process the payment with the credit card you registered when making your reservation?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, that's fine</li>
                                <li>I'd like to use a different card</li>
                                <li>Can I pay in cash?</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">お会計、無事完了いたしました。ショートメールよりテーブルチェックのリンクが届いていると思われます。下の方まで進んでいただき、電話番号をご入力いただくと領収書をダウンロードいただけますのでご確認ください。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Your payment has been processed successfully. You should receive a text message with a TableCheck link. Please scroll down, enter your phone number, and you can download your receipt.</div>
                            <button class="play-button" onclick="speak('Your payment has been processed successfully. You should receive a text message with a TableCheck link. Please scroll down, enter your phone number, and you can download your receipt.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you</li>
                                <li>I'll check my phone</li>
                                <li>I didn't receive the message</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">ご希望でしたら明細をお作りいたしますが、いかがなさいますか？</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Would you like me to prepare an itemized receipt?</div>
                            <button class="play-button" onclick="speak('Would you like me to prepare an itemized receipt?')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Yes, please</li>
                                <li>No, thank you</li>
                                <li>The digital receipt is fine</li>
                            </ul>
                        </div>
                    </div>
                    <div class="phrase-card">
                        <div class="phrase-section">
                            <h3>🗣️ 日本語</h3>
                            <div class="phrase-text">本日はどうもありがとうございました。</div>
                        </div>
                        <div class="phrase-section">
                            <h3>🇺🇸 English</h3>
                            <div class="phrase-text">Thank you very much for dining with us today.</div>
                            <button class="play-button" onclick="speak('Thank you very much for dining with us today.')">▶️ Play</button>
                        </div>
                        <div class="phrase-section">
                            <h3>💬 想定される返答 (Response)</h3>
                            <ul class="response-list">
                                <li>Thank you for the wonderful service</li>
                                <li>Everything was excellent</li>
                                <li>We'll definitely come back</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // グローバル変数
        let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
        let history = JSON.parse(localStorage.getItem('history') || '[]');
        let currentSection = 'all';

        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            // ローディング画面を即座に非表示にして、メインコンテンツを表示
            const loadingScreen = document.getElementById('loadingScreen');
            const mainContent = document.getElementById('mainContent');
            const accordionContainer = document.getElementById('accordion-container');
            
            // 即座にローディングを非表示
            loadingScreen.style.display = 'none';
            mainContent.style.opacity = '1';
            accordionContainer.style.opacity = '1';
            
            updateFavoriteButtons();
            updateFavoritesList();
            updateHistoryList();
            setupSearch();
            
            // Service Worker登録（PWA）
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('./sw.js').catch(e => console.log('SW registration failed'));
            }
        });

        // アコーディオン機能
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const accordion = header.parentElement;
                const isActive = accordion.classList.contains('active');
                
                // 他のアコーディオンを閉じる
                document.querySelectorAll('.accordion').forEach(acc => {
                    acc.classList.remove('active');
                });
                
                // クリックされたアコーディオンをトグル
                if (!isActive) {
                    accordion.classList.add('active');
                }
            });
        });

        // 音声読み上げ機能（履歴記録付き）
        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.9;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                
                window.speechSynthesis.speak(utterance);
            } else {
                alert('お使いのブラウザは音声読み上げに対応していません。');
            }
        }

        // 音声読み上げと履歴記録
        function speakAndRecord(englishText, japaneseText) {
            speak(englishText);
            addToHistory(japaneseText, englishText);
        }

        // セクション表示切り替え
        function showSection(section) {
            currentSection = section;
            
            // メニューボタンの状態更新
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // セクションの表示/非表示
            const accordionContainer = document.getElementById('accordion-container');
            const favoritesSection = document.getElementById('favoritesSection');
            const historySection = document.getElementById('historySection');
            
            // 全てを非表示にする
            accordionContainer.style.display = 'none';
            favoritesSection.style.display = 'none';
            historySection.style.display = 'none';
            
            if (section === 'all') {
                accordionContainer.style.display = 'block';
                // 全てのアコーディオンを表示
                document.querySelectorAll('.accordion').forEach(acc => {
                    acc.classList.remove('hidden');
                });
            } else if (section === 'favorites') {
                favoritesSection.style.display = 'block';
            } else if (section === 'history') {
                historySection.style.display = 'block';
            } else {
                accordionContainer.style.display = 'block';
                // 特定カテゴリのみ表示
                document.querySelectorAll('.accordion').forEach(acc => {
                    if (acc.dataset.category === section) {
                        acc.classList.remove('hidden');
                    } else {
                        acc.classList.add('hidden');
                    }
                });
            }
        }

        // お気に入り機能
        function toggleFavorite(id, text) {
            const index = favorites.findIndex(fav => fav.id === id);
            if (index > -1) {
                favorites.splice(index, 1);
            } else {
                favorites.push({ id, text, timestamp: Date.now() });
            }
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoriteButtons();
            updateFavoritesList();
        }

        function updateFavoriteButtons() {
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                const onclick = btn.getAttribute('onclick');
                if (onclick) {
                    const match = onclick.match(/toggleFavorite\('([^']+)',/);
                    if (match) {
                        const id = match[1];
                        const isFavorite = favorites.some(fav => fav.id === id);
                        btn.classList.toggle('active', isFavorite);
                        btn.textContent = isFavorite ? '★' : '☆';
                    }
                }
            });
        }

        function updateFavoritesList() {
            const favoritesList = document.getElementById('favoritesList');
            if (favorites.length === 0) {
                favoritesList.innerHTML = '<p style="color: #6c757d; text-align: center;">お気に入りフレーズはありません</p>';
            } else {
                favoritesList.innerHTML = favorites.map(fav => 
                    `<div class="favorite-item" onclick="searchAndHighlight('${fav.text}')">
                        ${fav.text}
                    </div>`
                ).join('');
            }
        }

        function clearFavorites() {
            if (confirm('お気に入りをすべて削除しますか？')) {
                favorites = [];
                localStorage.setItem('favorites', JSON.stringify(favorites));
                updateFavoriteButtons();
                updateFavoritesList();
            }
        }

        // 履歴機能
        function addToHistory(japaneseText, englishText) {
            const historyItem = {
                japanese: japaneseText,
                english: englishText,
                timestamp: Date.now()
            };
            
            // 同じ項目を削除（重複回避）
            history = history.filter(item => item.japanese !== japaneseText);
            
            // 最新を先頭に追加
            history.unshift(historyItem);
            
            // 最大50件まで保持
            if (history.length > 50) {
                history = history.slice(0, 50);
            }
            
            localStorage.setItem('history', JSON.stringify(history));
            updateHistoryList();
        }

        function updateHistoryList() {
            const historyList = document.getElementById('historyList');
            if (history.length === 0) {
                historyList.innerHTML = '<p style="color: #6c757d; text-align: center;">使用履歴はありません</p>';
            } else {
                historyList.innerHTML = history.map(item => 
                    `<div class="history-item" onclick="searchAndHighlight('${item.japanese}')">
                        ${item.japanese}
                        <span class="history-time">${new Date(item.timestamp).toLocaleTimeString()}</span>
                    </div>`
                ).join('');
            }
        }

        function clearHistory() {
            if (confirm('履歴をすべて削除しますか？')) {
                history = [];
                localStorage.setItem('history', JSON.stringify(history));
                updateHistoryList();
            }
        }

        // 検索機能
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                
                if (query === '') {
                    searchResults.textContent = '';
                    document.querySelectorAll('.accordion').forEach(acc => {
                        acc.classList.remove('hidden');
                    });
                    return;
                }
                
                let matchCount = 0;
                document.querySelectorAll('.accordion').forEach(acc => {
                    const text = acc.textContent.toLowerCase();
                    if (text.includes(query)) {
                        acc.classList.remove('hidden');
                        matchCount++;
                    } else {
                        acc.classList.add('hidden');
                    }
                });
                
                searchResults.textContent = `「${query}」の検索結果: ${matchCount}件`;
            });
        }

        function searchAndHighlight(text) {
            const searchInput = document.getElementById('searchInput');
            searchInput.value = text;
            searchInput.dispatchEvent(new Event('input'));
            
            // 全てセクションに戻る
            showSection('all');
            document.querySelector('.menu-btn').click();
        }
    </script>
</body>
</html>